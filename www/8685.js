"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8685],{8685:(E,g,s)=>{s.r(g),s.d(g,{WaitlistModule:()=>Y});var m=s(6895),o=s(4556),n=s(433),u=s(9155),x=s(8746),e=s(8256);var y=s(262),Z=s(529),w=s(5861),W=s(1135);let f=(()=>{class i{constructor(){this.walletInfoSubject=new W.X(null),this.loadFromLocalStorage(),this.walletInfoSubject.getValue()||this.createEmbeddedWallet()}loadFromLocalStorage(){try{const t=localStorage.getItem("walletInfo");if(t){const r=JSON.parse(t);this.walletInfoSubject.next(r),console.log("Loaded wallet info from localStorage:",r)}}catch(t){console.error("Error loading wallet info from localStorage:",t)}}createEmbeddedWallet(){var t=this;return(0,w.Z)(function*(){try{console.log("Creating embedded wallet...");const l=()=>`dyn_${Math.random().toString(36).substring(2,15)}`,c={seiWalletAddress:(()=>{const p="0123456789abcdef";let h="0x";for(let b=0;b<40;b++)h+=p.charAt(Math.floor(Math.random()*p.length));return h})(),dynamicUserId:l()};return console.log("Created simulated wallet:",c),localStorage.setItem("walletInfo",JSON.stringify(c)),t.walletInfoSubject.next(c),c}catch(r){return console.error("Error creating simulated wallet:",r),null}})()}updateWalletInfo(t){localStorage.setItem("walletInfo",JSON.stringify(t)),this.walletInfoSubject.next(t)}getWalletInfo(){return this.walletInfoSubject.asObservable()}getCurrentWalletInfo(){return this.walletInfoSubject.getValue()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),A=(()=>{class i{constructor(t,r){this.http=t,this.dynamicService=r,this.apiUrl="https://api.yapapp.xyz"}submitWaitlistEntry(t){const r=this.dynamicService.getCurrentWalletInfo();return r&&(t.seiWalletAddress=r.seiWalletAddress,t.dynamicUserId=r.dynamicUserId),this.http.post(`${this.apiUrl}/auth/wallet`,t).pipe((0,y.K)(l=>{throw console.error("Error submitting waitlist entry:",l),l}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Z.eN),e.LFG(f))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function I(i,a){1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"ion-icon",19),e.TgZ(3,"p"),e._uU(4,"Thank you! You've been added to our waitlist. We'll be in touch soon."),e.qZA()()())}function U(i,a){if(1&i&&(e.TgZ(0,"div",20)(1,"div",18),e._UZ(2,"ion-icon",21),e.TgZ(3,"p"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.errorMessage)}}function _(i,a){1&i&&(e.TgZ(0,"div",50),e._uU(1," Name is required "),e.qZA())}function T(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Email is required"),e.qZA())}function S(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Please enter a valid email"),e.qZA())}function C(i,a){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,T,2,0,"span",51),e.YNc(2,S,2,0,"span",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.email)}}function q(i,a){1&i&&(e.TgZ(0,"div",50),e._uU(1," Please select a language "),e.qZA())}function F(i,a){1&i&&(e.TgZ(0,"div",50),e._uU(1," You must agree to the terms "),e.qZA())}function J(i,a){1&i&&e._UZ(0,"ion-spinner",52)}const d=function(i){return{"ring-2 ring-red-500":i}};function P(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("ngSubmit",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onSubmit())}),e.TgZ(1,"div",23)(2,"label",24),e._uU(3,"Name"),e.qZA(),e._UZ(4,"input",25),e.YNc(5,_,2,0,"div",26),e.qZA(),e.TgZ(6,"div",23)(7,"label",27),e._uU(8,"Email Address"),e.qZA(),e._UZ(9,"input",28),e.YNc(10,C,3,2,"div",26),e.qZA(),e.TgZ(11,"div",29)(12,"label",30),e._uU(13,"Primary Language Interest"),e.qZA(),e.TgZ(14,"select",31)(15,"option",32),e._uU(16,"Select a language"),e.qZA(),e.TgZ(17,"option",33),e._uU(18,"English"),e.qZA(),e.TgZ(19,"option",34),e._uU(20,"Spanish"),e.qZA(),e.TgZ(21,"option",35),e._uU(22,"French"),e.qZA(),e.TgZ(23,"option",36),e._uU(24,"Mandarin Chinese"),e.qZA(),e.TgZ(25,"option",37),e._uU(26,"Japanese"),e.qZA(),e.TgZ(27,"option",38),e._uU(28,"Other"),e.qZA()(),e.YNc(29,q,2,0,"div",26),e.qZA(),e._UZ(30,"input",39)(31,"input",40),e.TgZ(32,"div",29)(33,"div",41)(34,"div",42),e._UZ(35,"ion-icon",43),e.TgZ(36,"div")(37,"p",44),e._uU(38,"Web3 wallet will be created automatically"),e.qZA(),e.TgZ(39,"p",45),e._uU(40," A secure wallet is being generated for you in the background to enhance your YAP experience with Web3 features. "),e.qZA()()()()(),e.TgZ(41,"div",29)(42,"div",18),e._UZ(43,"input",46),e.TgZ(44,"label",47),e._uU(45," I agree to receive communication about YAP "),e.qZA()(),e.YNc(46,F,2,0,"div",26),e.qZA(),e.TgZ(47,"ion-button",48),e.YNc(48,J,1,0,"ion-spinner",49),e._uU(49),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.waitlistForm),e.xp6(4),e.Q6J("ngClass",e.VKq(12,d,t.submitted&&t.f.name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.name.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(14,d,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,d,t.submitted&&t.f.language.errors)),e.xp6(15),e.Q6J("ngIf",t.submitted&&t.f.language.errors),e.xp6(14),e.Q6J("ngClass",e.VKq(18,d,t.submitted&&t.f.acceptTerms.errors)),e.xp6(3),e.Q6J("ngIf",t.submitted&&t.f.acceptTerms.errors),e.xp6(1),e.Q6J("disabled",t.isSubmitting),e.xp6(1),e.Q6J("ngIf",t.isSubmitting),e.xp6(1),e.hij(" ",t.isSubmitting?"Submitting...":"Join Waitlist"," ")}}const N=[{path:"",component:(()=>{class i{constructor(t,r,l){this.fb=t,this.waitlistService=r,this.dynamicService=l,this.submitted=!1,this.success=!1,this.isSubmitting=!1,this.errorMessage="",this.seiWalletAddress="",this.dynamicUserId="",this.waitlistForm=this.fb.group({name:["",[n.kI.required]],email:["",[n.kI.required,n.kI.email]],language:["",[n.kI.required]],seiWalletAddress:[""],dynamicUserId:[""],acceptTerms:[!1,[n.kI.requiredTrue]]})}ngOnInit(){this.dynamicService.getWalletInfo().subscribe({next:t=>{t?(console.log("Wallet info loaded from storage:",t),this.seiWalletAddress=t.seiWalletAddress,this.dynamicUserId=t.dynamicUserId,this.waitlistForm.patchValue({seiWalletAddress:t.seiWalletAddress,dynamicUserId:t.dynamicUserId})):console.log("No existing wallet info found, service will create new wallet")},error:t=>{console.error("Error getting wallet info:",t),this.tryGetWalletAndUserInfo()}})}get f(){return this.waitlistForm.controls}tryGetWalletAndUserInfo(){const t=localStorage.getItem("seiWalletAddress"),r=localStorage.getItem("dynamicUserId");t&&(this.seiWalletAddress=t,this.waitlistForm.patchValue({seiWalletAddress:t})),r&&(this.dynamicUserId=r,this.waitlistForm.patchValue({dynamicUserId:r}))}onSubmit(){this.submitted=!0,this.errorMessage="",this.waitlistForm.invalid||(this.isSubmitting=!0,this.waitlistService.submitWaitlistEntry({name:this.waitlistForm.value.name,email:this.waitlistForm.value.email,language_preferred:this.waitlistForm.value.language,acceptTerms:this.waitlistForm.value.acceptTerms,seiWalletAddress:this.waitlistForm.value.seiWalletAddress||this.seiWalletAddress,dynamicUserId:this.waitlistForm.value.dynamicUserId||this.dynamicUserId}).pipe((0,x.x)(()=>this.isSubmitting=!1)).subscribe({next:()=>{this.success=!0,this.waitlistForm.reset(),this.submitted=!1},error:r=>{this.errorMessage=r.error?.message||"An error occurred. Please try again later."}}))}connectWallet(){console.log("Manual wallet creation requested"),this.dynamicService.createEmbeddedWallet().then(t=>{t&&(console.log("Wallet created manually:",t),this.seiWalletAddress=t.seiWalletAddress,this.dynamicUserId=t.dynamicUserId,this.waitlistForm.patchValue({seiWalletAddress:t.seiWalletAddress,dynamicUserId:t.dynamicUserId}))}).catch(t=>{console.error("Failed to create wallet manually:",t),this.errorMessage="Failed to create wallet. Please try again later."})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(n.qu),e.Y36(A),e.Y36(f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-waitlist-page"]],decls:22,vars:3,consts:[[1,"bg-neutral-900"],[1,"mx-auto","flex","min-h-screen","max-w-6xl","flex-col","items-center","px-4","py-16","md:flex-row","md:py-24"],[1,"w-full","md:w-1/2","md:pr-12"],["routerLink","/",1,"mb-8","inline-flex","items-center","gap-2","text-sm","text-neutral-400"],["name","arrow-back-outline"],[1,"mb-6","text-4xl","font-bold","text-neutral-100","md:text-5xl"],[1,"mb-8","text-xl","text-neutral-400"],["class","mb-8 rounded-lg bg-green-900/30 p-4 text-green-400",4,"ngIf"],["class","mb-8 rounded-lg bg-red-900/30 p-4 text-red-400",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-12","hidden","w-full","md:mt-0","md:block","md:w-1/2"],[1,"relative","aspect-square","w-full","rounded-lg","bg-gradient-to-br","from-yellow-400/20","to-purple-500/20","p-8"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"text-center"],["name","mic",1,"h-24","w-24","text-yellow-400"],[1,"mt-4","text-2xl","font-bold","text-neutral-200"],[1,"mt-2","text-neutral-400"],[1,"mb-8","rounded-lg","bg-green-900/30","p-4","text-green-400"],[1,"flex","items-center"],["name","checkmark-circle",1,"mr-2","h-6","w-6"],[1,"mb-8","rounded-lg","bg-red-900/30","p-4","text-red-400"],["name","alert-circle",1,"mr-2","h-6","w-6"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","name",1,"mb-1","block","text-sm","text-neutral-400"],["id","name","type","text","formControlName","name",1,"w-full","rounded-md","border-0","bg-neutral-800","px-4","py-3","text-neutral-100","focus:outline-none","focus:ring-2","focus:ring-yellow-400",3,"ngClass"],["class","mt-1 text-sm text-red-400",4,"ngIf"],["for","email",1,"mb-1","block","text-sm","text-neutral-400"],["id","email","type","email","formControlName","email",1,"w-full","rounded-md","border-0","bg-neutral-800","px-4","py-3","text-neutral-100","focus:outline-none","focus:ring-2","focus:ring-yellow-400",3,"ngClass"],[1,"mb-6"],["for","language",1,"mb-1","block","text-sm","text-neutral-400"],["id","language","formControlName","language",1,"w-full","rounded-md","border-0","bg-neutral-800","px-4","py-3","text-neutral-100","focus:outline-none","focus:ring-2","focus:ring-yellow-400",3,"ngClass"],["value","","disabled","","selected",""],["value","english"],["value","spanish"],["value","french"],["value","mandarin"],["value","japanese"],["value","other"],["type","hidden","formControlName","seiWalletAddress"],["type","hidden","formControlName","dynamicUserId"],[1,"mb-4","p-3","rounded-md","bg-yellow-900/20","border","border-yellow-700/20"],[1,"flex","items-start","gap-3"],["name","wallet-outline",1,"text-yellow-400","text-xl","mt-1"],[1,"text-neutral-200"],[1,"text-xs","text-neutral-400","mt-1"],["id","acceptTerms","type","checkbox","formControlName","acceptTerms",1,"h-4","w-4","rounded","border-neutral-600","bg-neutral-800","text-yellow-400","focus:ring-2","focus:ring-yellow-400",3,"ngClass"],["for","acceptTerms",1,"ml-2","text-sm","text-neutral-400"],["type","submit","expand","block","size","large","color","warning",1,"text-black",3,"disabled"],["name","dots","class","mr-2",4,"ngIf"],[1,"mt-1","text-sm","text-red-400"],[4,"ngIf"],["name","dots",1,"mr-2"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"ion-icon",4),e._uU(5," Back to home "),e.qZA(),e.TgZ(6,"h1",5),e._uU(7,"Join the waitlist"),e.qZA(),e.TgZ(8,"p",6),e._uU(9," Be the first to access YAP and get exclusive early-bird benefits. "),e.qZA(),e.YNc(10,I,5,0,"div",7),e.YNc(11,U,5,1,"div",8),e.YNc(12,P,50,20,"form",9),e.qZA(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),e._UZ(17,"ion-icon",14),e.TgZ(18,"h3",15),e._uU(19,"Join 500+ early adopters"),e.qZA(),e.TgZ(20,"p",16),e._uU(21,"Limited spots available for our beta program"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngIf",r.success),e.xp6(1),e.Q6J("ngIf",r.errorMessage),e.xp6(1),e.Q6J("ngIf",!r.success))},dependencies:[m.mk,m.O5,o.YG,o.W2,o.gu,o.PQ,o.Fo,n._Y,n.YN,n.Kr,n.Fj,n.Wl,n.EJ,n.JJ,n.JL,n.sg,n.u,u.yS],styles:["[_nghost-%COMP%]{display:block}ion-button[_ngcontent-%COMP%]{--border-radius: 9999px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none}"]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(N),u.Bz]}),i})(),Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,o.Pc,n.UX,M]}),i})()}}]);